{
  "title": "Flight Booking Platform - API Specifications",
  "version": "1.0.0",
  "description": "Complete API list with payloads for production-ready flight booking platform",
  "base_url": "https://yourdomain.com/api",
  
  "authentication": {
    "type": "JWT Bearer Token",
    "header": "Authorization: Bearer <token>",
    "refresh_endpoint": "/api/auth/refresh"
  },

  "apis": {
    
    "1_authentication": {
      "title": "Authentication & User Management",
      "endpoints": {
        
        "register": {
          "method": "POST",
          "endpoint": "/api/auth/register",
          "description": "User registration",
          "payload": {
            "email": "user@example.com",
            "password": "SecurePass123!",
            "full_name": "John Doe",
            "phone": "+8801234567890",
            "country_code": "+880"
          },
          "response": {
            "success": true,
            "message": "Registration successful. Please verify your email.",
            "user": {
              "id": "usr_123456789",
              "email": "user@example.com",
              "full_name": "John Doe",
              "email_verified": false
            }
          }
        },

        "login": {
          "method": "POST",
          "endpoint": "/api/auth/login",
          "description": "User login",
          "payload": {
            "email": "user@example.com",
            "password": "SecurePass123!"
          },
          "response": {
            "success": true,
            "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
            "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
            "expires_in": 3600,
            "user": {
              "id": "usr_123456789",
              "email": "user@example.com",
              "full_name": "John Doe",
              "avatar": "https://example.com/avatar.jpg"
            }
          }
        },

        "forgot_password": {
          "method": "POST",
          "endpoint": "/api/auth/forgot-password",
          "description": "Request password reset",
          "payload": {
            "email": "user@example.com"
          },
          "response": {
            "success": true,
            "message": "Password reset link sent to your email"
          }
        },

        "reset_password": {
          "method": "POST",
          "endpoint": "/api/auth/reset-password",
          "description": "Reset password with token",
          "payload": {
            "token": "reset_token_here",
            "new_password": "NewSecurePass123!",
            "confirm_password": "NewSecurePass123!"
          },
          "response": {
            "success": true,
            "message": "Password reset successful"
          }
        },

        "change_password": {
          "method": "POST",
          "endpoint": "/api/auth/change-password",
          "description": "Change password (authenticated user)",
          "headers": {
            "Authorization": "Bearer <token>"
          },
          "payload": {
            "current_password": "OldPass123!",
            "new_password": "NewPass123!",
            "confirm_password": "NewPass123!"
          },
          "response": {
            "success": true,
            "message": "Password changed successfully"
          }
        },

        "logout": {
          "method": "POST",
          "endpoint": "/api/auth/logout",
          "description": "User logout",
          "headers": {
            "Authorization": "Bearer <token>"
          },
          "response": {
            "success": true,
            "message": "Logged out successfully"
          }
        }
      }
    },

    "2_user_profile": {
      "title": "User Profile Management",
      "endpoints": {
        
        "get_profile": {
          "method": "GET",
          "endpoint": "/api/user/profile",
          "description": "Get user profile information",
          "headers": {
            "Authorization": "Bearer <token>"
          },
          "response": {
            "success": true,
            "data": {
              "id": "usr_123456789",
              "email": "user@example.com",
              "full_name": "John Doe",
              "phone": "+8801234567890",
              "gender": "male",
              "date_of_birth": "1990-05-15",
              "nationality": "Bangladeshi",
              "marital_status": "single",
              "religion": "Islam",
              "present_address": "123 Main Street, Dhaka",
              "permanent_address": "456 Village Road, Chittagong",
              "passport_number": "BG1234567",
              "passport_expiry": "2030-12-31",
              "passport_image": "https://example.com/passport.jpg",
              "avatar": "https://example.com/avatar.jpg",
              "created_at": "2025-01-15T10:30:00Z",
              "updated_at": "2025-10-15T14:20:00Z"
            }
          }
        },

        "update_profile": {
          "method": "PUT",
          "endpoint": "/api/user/profile",
          "description": "Update user profile",
          "headers": {
            "Authorization": "Bearer <token>"
          },
          "payload": {
            "full_name": "John Doe",
            "phone": "+8801234567890",
            "gender": "male",
            "date_of_birth": "1990-05-15",
            "nationality": "Bangladeshi",
            "marital_status": "married",
            "religion": "Islam",
            "present_address": "123 New Street, Dhaka",
            "permanent_address": "456 Village Road, Chittagong"
          },
          "response": {
            "success": true,
            "message": "Profile updated successfully",
            "data": {
              "id": "usr_123456789",
              "full_name": "Moinul Islam",
              "updated_at": "2025-10-15T14:25:00Z"
            }
          }
        },

        "upload_avatar": {
          "method": "POST",
          "endpoint": "/api/user/profile/avatar",
          "description": "Upload profile picture",
          "headers": {
            "Authorization": "Bearer <token>",
            "Content-Type": "multipart/form-data"
          },
          "payload": {
            "avatar": "<file_binary_data>"
          },
          "response": {
            "success": true,
            "message": "Avatar uploaded successfully",
            "avatar_url": "https://example.com/avatars/usr_123456789.jpg"
          }
        },

        "upload_passport": {
          "method": "POST",
          "endpoint": "/api/user/profile/passport",
          "description": "Upload passport image",
          "headers": {
            "Authorization": "Bearer <token>",
            "Content-Type": "multipart/form-data"
          },
          "payload": {
            "passport_image": "<file_binary_data>",
            "passport_number": "BG1234567",
            "passport_expiry": "2030-12-31"
          },
          "response": {
            "success": true,
            "message": "Passport uploaded successfully",
            "passport_url": "https://example.com/passports/usr_123456789.jpg"
          }
        }
      }
    },

    "3_travelers": {
      "title": "Traveler Management",
      "endpoints": {
        
        "get_travelers": {
          "method": "GET",
          "endpoint": "/api/travelers",
          "description": "Get user's travelers list",
          "headers": {
            "Authorization": "Bearer <token>"
          },
          "response": {
            "success": true,
            "data": [
              {
                "id": "tvl_123456789",
                "title": "Mr",
                "full_name": "John Doe",
                "first_name": "John",
                "last_name": "Doe",
                "type": "adult",
                "email": "john.doe@example.com",
                "phone": "+8801234567890",
                "date_of_birth": "1990-05-15",
                "gender": "male",
                "nationality": "Bangladeshi",
                "passport_number": "BG1234567",
                "passport_expiry": "2030-12-31",
                "is_primary": true,
                "created_at": "2025-01-15T10:30:00Z"
              },
              {
                "id": "tvl_987654321",
                "title": "Mrs",
                "full_name": "Rokshana Parvin",
                "first_name": "Rokshana",
                "last_name": "Parvin",
                "type": "adult",
                "email": "",
                "phone": "+880",
                "date_of_birth": "1995-03-20",
                "gender": "female",
                "nationality": "Bangladeshi",
                "passport_number": "",
                "passport_expiry": null,
                "is_primary": false,
                "created_at": "2025-02-10T15:45:00Z"
              }
            ],
            "total": 7,
            "message": "7 Traveller Added"
          }
        },

        "add_traveler": {
          "method": "POST",
          "endpoint": "/api/travelers",
          "description": "Add new traveler",
          "headers": {
            "Authorization": "Bearer <token>"
          },
          "payload": {
            "title": "Mr",
            "first_name": "John",
            "last_name": "Doe",
            "type": "adult",
            "email": "john.doe@example.com",
            "phone": "+8801234567890",
            "date_of_birth": "1985-08-15",
            "gender": "male",
            "nationality": "American",
            "passport_number": "US9876543",
            "passport_expiry": "2028-12-31"
          },
          "response": {
            "success": true,
            "message": "Traveler added successfully",
            "data": {
              "id": "tvl_newid123",
              "title": "Mr",
              "full_name": "John Doe",
              "type": "adult",
              "created_at": "2025-10-15T14:30:00Z"
            }
          }
        },

        "update_traveler": {
          "method": "PUT",
          "endpoint": "/api/travelers/{traveler_id}",
          "description": "Update traveler information",
          "headers": {
            "Authorization": "Bearer <token>"
          },
          "payload": {
            "title": "Mr",
            "first_name": "John",
            "last_name": "Smith",
            "email": "john.smith@example.com",
            "phone": "+8801234567890",
            "date_of_birth": "1985-08-15",
            "gender": "male",
            "nationality": "American",
            "passport_number": "US9876543",
            "passport_expiry": "2028-12-31"
          },
          "response": {
            "success": true,
            "message": "Traveler updated successfully",
            "data": {
              "id": "tvl_123456789",
              "full_name": "John Smith",
              "updated_at": "2025-10-15T14:35:00Z"
            }
          }
        },

        "delete_traveler": {
          "method": "DELETE",
          "endpoint": "/api/travelers/{traveler_id}",
          "description": "Delete traveler",
          "headers": {
            "Authorization": "Bearer <token>"
          },
          "response": {
            "success": true,
            "message": "Traveler deleted successfully"
          }
        },

        "get_traveler_detail": {
          "method": "GET",
          "endpoint": "/api/travelers/{traveler_id}",
          "description": "Get specific traveler details",
          "headers": {
            "Authorization": "Bearer <token>"
          },
          "response": {
            "success": true,
            "data": {
              "id": "tvl_123456789",
              "title": "Mr",
              "full_name": "John Doe",
              "first_name": "John",
              "last_name": "Doe",
              "type": "adult",
              "email": "john.doe@example.com",
              "phone": "+8801234567890",
              "date_of_birth": "1990-05-15",
              "gender": "male",
              "nationality": "Bangladeshi",
              "passport_number": "BG1234567",
              "passport_expiry": "2030-12-31",
              "passport_image": "https://example.com/passport.jpg",
              "is_primary": true,
              "created_at": "2025-01-15T10:30:00Z",
              "updated_at": "2025-10-15T14:20:00Z"
            }
          }
        }
      }
    },

    "4_flight_search": {
      "title": "Flight Search & Management",
      "endpoints": {
        
        "search_flights": {
          "method": "POST",
          "endpoint": "/api/flights/search",
          "description": "Search flights (Enhanced version of current implementation)",
          "headers": {
            "Authorization": "Bearer <token>"
          },
          "payload": {
            "origin": "DAC",
            "destination": "DXB",
            "departure_date": "2025-10-31",
            "return_date": "2025-11-07",
            "trip_type": "round_trip",
            "cabin_class": "economy",
            "passengers": [
              {"type": "adult", "count": 2},
              {"type": "child", "count": 1},
              {"type": "infant_without_seat", "count": 1}
            ],
            "currency": "USD",
            "save_search": true
          },
          "response": {
            "success": true,
            "search_id": "srch_123456789",
            "offer_request_id": "orq_abc123def456",
            "total_offers": 15,
            "data": [
              {
                "offer_id": "off_123456789",
                "price": {
                  "total_amount": "850.50",
                  "currency": "USD",
                  "base_amount": "730.00",
                  "tax_amount": "120.50"
                },
                "airline": {
                  "name": "Emirates",
                  "code": "EK",
                  "logo": "https://example.com/airlines/ek.png"
                },
                "route": {
                  "origin": {"code": "DAC", "name": "Dhaka", "terminal": "1"},
                  "destination": {"code": "DXB", "name": "Dubai", "terminal": "3"}
                },
                "schedule": {
                  "departure": "2025-10-31T14:30:00+06:00",
                  "arrival": "2025-10-31T19:00:00+04:00",
                  "duration": "PT8H30M"
                },
                "stops": 0,
                "aircraft": "Boeing 777-300ER",
                "flight_number": "EK585",
                "cabin_class": "economy",
                "baggage": {
                  "checked": "23kg",
                  "carry_on": "7kg"
                },
                "cancellation_policy": {
                  "refundable": true,
                  "penalty": "200.00"
                }
              }
            ],
            "filters": {
              "price_range": {"min": 650, "max": 1200},
              "airlines": ["Emirates", "Qatar Airways", "Turkish Airlines"],
              "stops": [0, 1, 2],
              "departure_times": ["morning", "afternoon", "evening", "night"]
            }
          }
        },

        "get_search_history": {
          "method": "GET",
          "endpoint": "/api/flights/search-history",
          "description": "Get user's search history",
          "headers": {
            "Authorization": "Bearer <token>"
          },
          "query_params": {
            "page": 1,
            "limit": 10
          },
          "response": {
            "success": true,
            "data": [
              {
                "search_id": "srch_123456789",
                "route": "DAC → DXB",
                "departure_date": "2025-10-31",
                "return_date": "2025-11-07",
                "passengers": 4,
                "searched_at": "2025-10-15T10:30:00Z",
                "results_found": 15
              }
            ],
            "pagination": {
              "current_page": 1,
              "total_pages": 3,
              "total_items": 25,
              "per_page": 10
            }
          }
        },

        "save_search": {
          "method": "POST",
          "endpoint": "/api/flights/save-search",
          "description": "Save search for later",
          "headers": {
            "Authorization": "Bearer <token>"
          },
          "payload": {
            "search_id": "srch_123456789",
            "name": "Dubai Trip October",
            "price_alert": true,
            "alert_price": 800.00
          },
          "response": {
            "success": true,
            "message": "Search saved successfully",
            "saved_search_id": "ssrch_abc123"
          }
        }
      }
    },

    "5_bookings": {
      "title": "Flight Booking Management",
      "endpoints": {
        
        "create_booking": {
          "method": "POST",
          "endpoint": "/api/bookings",
          "description": "Create flight booking (Enhanced version)",
          "headers": {
            "Authorization": "Bearer <token>"
          },
          "payload": {
            "offer_id": "off_123456789",
            "offer_request_id": "orq_abc123def456",
            "payment_method": "stripe",
            "payment_intent_id": "pi_stripe123456",
            "passengers": [
              {
                "duffel_passenger_id": "pas_123456789",
                "traveler_id": "tvl_123456789",
                "title": "mr",
                "given_name": "John",
                "family_name": "Doe",
                "born_on": "1990-05-15",
                "gender": "m",
                "email": "john.doe@example.com",
                "phone_number": "+8801234567890",
                "passport": {
                  "number": "BG1234567",
                  "expiry": "2030-12-31"
                }
              }
            ],
            "contact_info": {
              "email": "john.doe@example.com",
              "phone": "+8801234567890"
            },
            "special_requests": "Vegetarian meal, Window seat"
          },
          "response": {
            "success": true,
            "message": "Booking created successfully",
            "data": {
              "booking_id": "bkg_123456789",
              "duffel_order_id": "ord_abc123def456",
              "booking_reference": "ABC123",
              "status": "confirmed",
              "payment_status": "paid",
              "total_amount": "850.50",
              "currency": "USD",
              "created_at": "2025-10-15T14:30:00Z"
            }
          }
        },

        "get_bookings": {
          "method": "GET",
          "endpoint": "/api/bookings",
          "description": "Get user's bookings with filters",
          "headers": {
            "Authorization": "Bearer <token>"
          },
          "query_params": {
            "status": "confirmed",
            "type": "current",
            "page": 1,
            "limit": 10,
            "sort_by": "journey_date",
            "order": "desc"
          },
          "response": {
            "success": true,
            "data": {
              "current_bookings": [
                {
                  "booking_id": "bkg_123456789",
                  "booking_reference": "ABC123",
                  "status": "confirmed",
                  "route": {
                    "origin": {"code": "DAC", "city": "Dhaka"},
                    "destination": {"code": "DXB", "city": "Dubai"}
                  },
                  "departure_date": "2025-10-31",
                  "return_date": "2025-11-07",
                  "passengers": 1,
                  "airline": {
                    "name": "Emirates",
                    "code": "EK",
                    "logo": "https://example.com/airlines/ek.png"
                  },
                  "total_amount": "850.50",
                  "currency": "USD",
                  "booked_at": "2025-10-15T14:30:00Z",
                  "trip_type": "round_trip"
                }
              ],
              "previous_bookings": [],
              "stats": {
                "total_bookings": 1,
                "current_bookings": 1,
                "previous_bookings": 0,
                "total_spent": "850.50",
                "currency": "USD"
              }
            }
          }
        },

        "get_booking_detail": {
          "method": "GET",
          "endpoint": "/api/bookings/{booking_id}",
          "description": "Get detailed booking information",
          "headers": {
            "Authorization": "Bearer <token>"
          },
          "response": {
            "success": true,
            "data": {
              "booking_id": "bkg_123456789",
              "duffel_order_id": "ord_abc123def456",
              "booking_reference": "ABC123",
              "status": "confirmed",
              "payment_status": "paid",
              "flight_details": {
                "airline": {
                  "name": "Emirates",
                  "code": "EK",
                  "logo": "https://example.com/airlines/ek.png"
                },
                "outbound": {
                  "flight_number": "EK585",
                  "aircraft": "Boeing 777-300ER",
                  "origin": {
                    "code": "DAC",
                    "name": "Hazrat Shahjalal International Airport",
                    "city": "Dhaka",
                    "terminal": "1"
                  },
                  "destination": {
                    "code": "DXB", 
                    "name": "Dubai International Airport",
                    "city": "Dubai",
                    "terminal": "3"
                  },
                  "departure": "2025-10-31T14:30:00+06:00",
                  "arrival": "2025-10-31T19:00:00+04:00",
                  "duration": "PT8H30M",
                  "cabin_class": "economy"
                },
                "return": {
                  "flight_number": "EK586",
                  "aircraft": "Boeing 777-300ER",
                  "origin": {
                    "code": "DXB",
                    "name": "Dubai International Airport", 
                    "city": "Dubai",
                    "terminal": "3"
                  },
                  "destination": {
                    "code": "DAC",
                    "name": "Hazrat Shahjalal International Airport",
                    "city": "Dhaka", 
                    "terminal": "1"
                  },
                  "departure": "2025-11-07T21:45:00+04:00",
                  "arrival": "2025-11-08T08:15:00+06:00",
                  "duration": "PT8H30M",
                  "cabin_class": "economy"
                }
              },
              "passengers": [
                {
                  "title": "Mr",
                  "full_name": "John Doe",
                  "type": "adult",
                  "seat": "12A",
                  "meal_preference": "vegetarian",
                  "baggage": {
                    "checked": "23kg",
                    "carry_on": "7kg"
                  }
                }
              ],
              "pricing": {
                "base_amount": "730.00",
                "tax_amount": "120.50",
                "total_amount": "850.50",
                "currency": "USD"
              },
              "contact_info": {
                "email": "john.doe@example.com",
                "phone": "+8801234567890"
              },
              "booked_at": "2025-10-15T14:30:00Z",
              "tickets": {
                "eticket_url": "https://example.com/tickets/bkg_123456789.pdf",
                "boarding_pass_available": false
              }
            }
          }
        },

        "cancel_booking": {
          "method": "POST",
          "endpoint": "/api/bookings/{booking_id}/cancel",
          "description": "Cancel booking",
          "headers": {
            "Authorization": "Bearer <token>"
          },
          "payload": {
            "reason": "Change of plans",
            "refund_requested": true
          },
          "response": {
            "success": true,
            "message": "Booking cancelled successfully",
            "data": {
              "booking_id": "bkg_123456789",
              "status": "cancelled",
              "refund_amount": "650.50",
              "cancellation_fee": "200.00",
              "refund_timeline": "7-10 business days"
            }
          }
        },

        "download_ticket": {
          "method": "GET",
          "endpoint": "/api/bookings/{booking_id}/ticket",
          "description": "Download e-ticket",
          "headers": {
            "Authorization": "Bearer <token>"
          },
          "response": {
            "success": true,
            "ticket_url": "https://example.com/tickets/bkg_123456789.pdf",
            "expires_at": "2025-11-08T23:59:59Z"
          }
        }
      }
    },

    "6_payments": {
      "title": "Payment Management",
      "endpoints": {
        
        "create_payment_intent": {
          "method": "POST",
          "endpoint": "/api/payments/create-intent",
          "description": "Create Stripe payment intent for booking",
          "headers": {
            "Authorization": "Bearer <token>"
          },
          "payload": {
            "offer_id": "off_123456789",
            "amount": 85050,
            "currency": "usd",
            "booking_data": {
              "passengers": 1,
              "route": "DAC → DXB",
              "departure_date": "2025-10-31"
            }
          },
          "response": {
            "success": true,
            "client_secret": "pi_stripe123456_secret_abc",
            "payment_intent_id": "pi_stripe123456",
            "amount": 85050,
            "currency": "usd"
          }
        },

        "confirm_payment": {
          "method": "POST",
          "endpoint": "/api/payments/confirm",
          "description": "Confirm payment and create booking",
          "headers": {
            "Authorization": "Bearer <token>"
          },
          "payload": {
            "payment_intent_id": "pi_stripe123456",
            "offer_id": "off_123456789",
            "booking_data": {
              "passengers": [
                {
                  "title": "mr",
                  "given_name": "John",
                  "family_name": "Doe",
                  "born_on": "1990-05-15",
                  "gender": "m",
                  "email": "john.doe@example.com",
                  "phone_number": "+8801234567890"
                }
              ]
            }
          },
          "response": {
            "success": true,
            "message": "Payment confirmed and booking created",
            "booking_id": "bkg_123456789",
            "booking_reference": "ABC123",
            "payment_status": "paid"
          }
        },

        "get_payment_history": {
          "method": "GET",
          "endpoint": "/api/payments/history",
          "description": "Get user's payment history",
          "headers": {
            "Authorization": "Bearer <token>"
          },
          "query_params": {
            "page": 1,
            "limit": 10,
            "status": "succeeded"
          },
          "response": {
            "success": true,
            "data": [
              {
                "payment_id": "pay_123456789",
                "booking_id": "bkg_123456789",
                "amount": "850.50",
                "currency": "USD",
                "status": "succeeded",
                "method": "card",
                "last4": "4242",
                "brand": "visa",
                "paid_at": "2025-10-15T14:30:00Z",
                "description": "Flight booking DAC → DXB"
              }
            ],
            "pagination": {
              "current_page": 1,
              "total_pages": 2,
              "total_items": 15
            }
          }
        }
      }
    },

    "7_support": {
      "title": "Support & Help",
      "endpoints": {
        
        "create_support_ticket": {
          "method": "POST",
          "endpoint": "/api/support/tickets",
          "description": "Create support ticket",
          "headers": {
            "Authorization": "Bearer <token>"
          },
          "payload": {
            "subject": "Issue with booking ABC123",
            "category": "booking_issue",
            "priority": "medium",
            "message": "I need to change my flight date",
            "booking_id": "bkg_123456789",
            "attachments": ["file1.jpg", "file2.pdf"]
          },
          "response": {
            "success": true,
            "ticket_id": "tkt_123456789",
            "ticket_number": "TKT-2025-001",
            "status": "open",
            "estimated_response": "2-4 hours"
          }
        },

        "get_support_tickets": {
          "method": "GET",
          "endpoint": "/api/support/tickets",
          "description": "Get user's support tickets",
          "headers": {
            "Authorization": "Bearer <token>"
          },
          "response": {
            "success": true,
            "data": [
              {
                "ticket_id": "tkt_123456789",
                "ticket_number": "TKT-2025-001", 
                "subject": "Issue with booking ABC123",
                "status": "in_progress",
                "priority": "medium",
                "created_at": "2025-10-15T10:00:00Z",
                "last_response": "2025-10-15T14:30:00Z"
              }
            ]
          }
        },

        "get_faq": {
          "method": "GET",
          "endpoint": "/api/support/faq",
          "description": "Get frequently asked questions",
          "query_params": {
            "category": "booking",
            "search": "cancel"
          },
          "response": {
            "success": true,
            "data": [
              {
                "id": "faq_001",
                "question": "How can I cancel my booking?",
                "answer": "You can cancel your booking from the My Bookings section...",
                "category": "booking",
                "helpful_count": 156
              }
            ]
          }
        }
      }
    },

    "8_admin": {
      "title": "Admin APIs (Backend Management)",
      "endpoints": {
        
        "get_users": {
          "method": "GET",
          "endpoint": "/api/admin/users",
          "description": "Get all users (Admin only)",
          "headers": {
            "Authorization": "Bearer <admin_token>"
          },
          "query_params": {
            "page": 1,
            "limit": 50,
            "search": "email@example.com",
            "status": "active"
          },
          "response": {
            "success": true,
            "data": [
              {
                "id": "usr_123456789",
                "email": "user@example.com",
                "full_name": "John Doe",
                "status": "active",
                "total_bookings": 5,
                "total_spent": "4250.00",
                "last_login": "2025-10-15T14:30:00Z",
                "created_at": "2025-01-15T10:30:00Z"
              }
            ]
          }
        },

        "get_all_bookings": {
          "method": "GET",
          "endpoint": "/api/admin/bookings",
          "description": "Get all bookings (Admin only)",
          "headers": {
            "Authorization": "Bearer <admin_token>"
          },
          "query_params": {
            "page": 1,
            "limit": 50,
            "status": "confirmed",
            "date_from": "2025-10-01",
            "date_to": "2025-10-31"
          },
          "response": {
            "success": true,
            "data": [
              {
                "booking_id": "bkg_123456789",
                "booking_reference": "ABC123",
                "user": {
                  "id": "usr_123456789",
                  "name": "John Doe",
                  "email": "user@example.com"
                },
                "route": "DAC → DXB",
                "departure_date": "2025-10-31",
                "total_amount": "850.50",
                "status": "confirmed",
                "booked_at": "2025-10-15T14:30:00Z"
              }
            ],
            "stats": {
              "total_revenue": "125750.00",
              "total_bookings": 148,
              "confirmed_bookings": 142,
              "cancelled_bookings": 6
            }
          }
        },

        "get_analytics": {
          "method": "GET",
          "endpoint": "/api/admin/analytics",
          "description": "Get booking analytics",
          "headers": {
            "Authorization": "Bearer <admin_token>"
          },
          "query_params": {
            "period": "month",
            "start_date": "2025-10-01",
            "end_date": "2025-10-31"
          },
          "response": {
            "success": true,
            "data": {
              "revenue": {
                "total": "125750.00",
                "growth": "15.5%",
                "currency": "USD"
              },
              "bookings": {
                "total": 148,
                "growth": "12.3%",
                "conversion_rate": "8.5%"
              },
              "popular_routes": [
                {"route": "DAC → DXB", "bookings": 45, "revenue": "38250.00"},
                {"route": "DAC → DOH", "bookings": 32, "revenue": "24800.00"}
              ],
              "top_airlines": [
                {"airline": "Emirates", "bookings": 78, "market_share": "52.7%"},
                {"airline": "Qatar Airways", "bookings": 45, "market_share": "30.4%"}
              ]
            }
          }
        }
      }
    }
  },

  "database_schema": {
    "description": "Key database tables needed for the system",
    "tables": {
      
      "users": {
        "primary_key": "id",
        "fields": {
          "id": "VARCHAR(50) PRIMARY KEY",
          "email": "VARCHAR(255) UNIQUE NOT NULL",
          "password_hash": "VARCHAR(255) NOT NULL",
          "full_name": "VARCHAR(255)",
          "phone": "VARCHAR(20)",
          "avatar": "TEXT",
          "gender": "ENUM('male', 'female', 'other')",
          "date_of_birth": "DATE",
          "nationality": "VARCHAR(100)",
          "marital_status": "VARCHAR(50)",
          "religion": "VARCHAR(50)",
          "present_address": "TEXT",
          "permanent_address": "TEXT",
          "passport_number": "VARCHAR(50)",
          "passport_expiry": "DATE",
          "passport_image": "TEXT",
          "email_verified": "BOOLEAN DEFAULT FALSE",
          "status": "ENUM('active', 'suspended', 'deleted') DEFAULT 'active'",
          "created_at": "TIMESTAMP DEFAULT CURRENT_TIMESTAMP",
          "updated_at": "TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP"
        }
      },

      "travelers": {
        "primary_key": "id",
        "fields": {
          "id": "VARCHAR(50) PRIMARY KEY",
          "user_id": "VARCHAR(50) NOT NULL",
          "title": "VARCHAR(10)",
          "first_name": "VARCHAR(100) NOT NULL",
          "last_name": "VARCHAR(100) NOT NULL",
          "type": "ENUM('adult', 'child', 'infant_without_seat')",
          "email": "VARCHAR(255)",
          "phone": "VARCHAR(20)",
          "date_of_birth": "DATE NOT NULL",
          "gender": "ENUM('male', 'female')",
          "nationality": "VARCHAR(100)",
          "passport_number": "VARCHAR(50)",
          "passport_expiry": "DATE",
          "is_primary": "BOOLEAN DEFAULT FALSE",
          "created_at": "TIMESTAMP DEFAULT CURRENT_TIMESTAMP",
          "updated_at": "TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP",
          "foreign_keys": {
            "user_id": "REFERENCES users(id) ON DELETE CASCADE"
          }
        }
      },

      "bookings": {
        "primary_key": "id",
        "fields": {
          "id": "VARCHAR(50) PRIMARY KEY",
          "user_id": "VARCHAR(50) NOT NULL",
          "duffel_order_id": "VARCHAR(100) UNIQUE",
          "booking_reference": "VARCHAR(20) UNIQUE NOT NULL",
          "offer_request_id": "VARCHAR(100)",
          "offer_id": "VARCHAR(100)",
          "status": "ENUM('pending', 'confirmed', 'cancelled', 'completed') DEFAULT 'pending'",
          "payment_status": "ENUM('pending', 'paid', 'failed', 'refunded') DEFAULT 'pending'",
          "trip_type": "ENUM('one_way', 'round_trip')",
          "origin_code": "VARCHAR(10)",
          "destination_code": "VARCHAR(10)",
          "departure_date": "DATE",
          "return_date": "DATE",
          "passenger_count": "INT",
          "cabin_class": "VARCHAR(50)",
          "total_amount": "DECIMAL(10,2)",
          "currency": "VARCHAR(10)",
          "base_amount": "DECIMAL(10,2)",
          "tax_amount": "DECIMAL(10,2)",
          "airline_name": "VARCHAR(100)",
          "airline_code": "VARCHAR(10)",
          "flight_details": "JSON",
          "passenger_details": "JSON",
          "contact_email": "VARCHAR(255)",
          "contact_phone": "VARCHAR(20)",
          "special_requests": "TEXT",
          "ticket_url": "TEXT",
          "created_at": "TIMESTAMP DEFAULT CURRENT_TIMESTAMP",
          "updated_at": "TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP",
          "foreign_keys": {
            "user_id": "REFERENCES users(id) ON DELETE CASCADE"
          }
        }
      },

      "payments": {
        "primary_key": "id", 
        "fields": {
          "id": "VARCHAR(50) PRIMARY KEY",
          "booking_id": "VARCHAR(50) NOT NULL",
          "user_id": "VARCHAR(50) NOT NULL",
          "stripe_payment_intent_id": "VARCHAR(100)",
          "amount": "DECIMAL(10,2) NOT NULL",
          "currency": "VARCHAR(10) NOT NULL",
          "status": "ENUM('pending', 'succeeded', 'failed', 'cancelled', 'refunded')",
          "payment_method": "VARCHAR(50)",
          "card_last4": "VARCHAR(4)",
          "card_brand": "VARCHAR(20)",
          "failure_reason": "TEXT",
          "refund_amount": "DECIMAL(10,2)",
          "refund_reason": "TEXT",
          "created_at": "TIMESTAMP DEFAULT CURRENT_TIMESTAMP",
          "updated_at": "TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP",
          "foreign_keys": {
            "booking_id": "REFERENCES bookings(id) ON DELETE CASCADE",
            "user_id": "REFERENCES users(id) ON DELETE CASCADE"
          }
        }
      },

      "search_history": {
        "primary_key": "id",
        "fields": {
          "id": "VARCHAR(50) PRIMARY KEY",
          "user_id": "VARCHAR(50)",
          "origin_code": "VARCHAR(10)",
          "destination_code": "VARCHAR(10)", 
          "departure_date": "DATE",
          "return_date": "DATE",
          "passenger_count": "INT",
          "cabin_class": "VARCHAR(50)",
          "results_found": "INT",
          "searched_at": "TIMESTAMP DEFAULT CURRENT_TIMESTAMP",
          "foreign_keys": {
            "user_id": "REFERENCES users(id) ON DELETE SET NULL"
          }
        }
      },

      "support_tickets": {
        "primary_key": "id",
        "fields": {
          "id": "VARCHAR(50) PRIMARY KEY",
          "user_id": "VARCHAR(50) NOT NULL",
          "booking_id": "VARCHAR(50)",
          "ticket_number": "VARCHAR(20) UNIQUE NOT NULL",
          "subject": "VARCHAR(255) NOT NULL",
          "category": "VARCHAR(100)",
          "priority": "ENUM('low', 'medium', 'high', 'urgent') DEFAULT 'medium'",
          "status": "ENUM('open', 'in_progress', 'resolved', 'closed') DEFAULT 'open'",
          "message": "TEXT NOT NULL",
          "attachments": "JSON",
          "assigned_to": "VARCHAR(50)",
          "created_at": "TIMESTAMP DEFAULT CURRENT_TIMESTAMP",
          "updated_at": "TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP",
          "foreign_keys": {
            "user_id": "REFERENCES users(id) ON DELETE CASCADE",
            "booking_id": "REFERENCES bookings(id) ON DELETE SET NULL"
          }
        }
      }
    }
  },

  "environment_variables": {
    "description": "Required environment variables",
    "variables": {
      "NODE_ENV": "production",
      "PORT": "3000",
      "DATABASE_URL": "mysql://user:pass@host:3306/database",
      "JWT_SECRET": "your-super-secret-jwt-key",
      "JWT_REFRESH_SECRET": "your-refresh-token-secret",
      "DUFFEL_API_TOKEN": "duffel_live_your_api_token",
      "STRIPE_SECRET_KEY": "sk_live_your_stripe_secret",
      "STRIPE_PUBLISHABLE_KEY": "pk_live_your_stripe_publishable",
      "EMAIL_SERVICE_API_KEY": "your_email_service_key",
      "AWS_S3_BUCKET": "your-s3-bucket-name",
      "AWS_ACCESS_KEY_ID": "your-aws-access-key",
      "AWS_SECRET_ACCESS_KEY": "your-aws-secret-key",
      "REDIS_URL": "redis://localhost:6379",
      "FRONTEND_URL": "https://yourdomain.com",
      "ADMIN_EMAIL": "admin@yourdomain.com"
    }
  },

  "security_considerations": {
    "jwt_tokens": {
      "access_token_expiry": "1 hour",
      "refresh_token_expiry": "7 days",
      "algorithm": "HS256"
    },
    "rate_limiting": {
      "auth_endpoints": "5 requests per minute",
      "search_endpoints": "60 requests per minute", 
      "booking_endpoints": "10 requests per minute",
      "general_endpoints": "100 requests per minute"
    },
    "data_validation": {
      "input_sanitization": "Required for all user inputs",
      "email_validation": "RFC 5322 compliant",
      "phone_validation": "E.164 format",
      "file_upload_validation": "Type and size restrictions"
    },
    "encryption": {
      "passwords": "bcrypt with salt rounds 12",
      "sensitive_data": "AES-256-GCM",
      "api_keys": "Environment variables only"
    }
  }
}